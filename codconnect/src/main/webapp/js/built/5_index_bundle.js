(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{313:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(5),n=r(9),i=r(311),o=Object(a.a)((function(e){return{root:{backgroundColor:e.palette.grey[100],height:e.spacing(3),color:e.palette.grey[800],fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:e.palette.grey[300]},"&:active":{boxShadow:e.shadows[1],backgroundColor:Object(n.c)(e.palette.grey[300],.12)}}}}))(i.a)},314:function(e,t,r){"use strict";function a(e){e?localStorage.setItem("lang",e):localStorage.setItem("lang","kr")}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));var n="6LeFlGAaAAAAAA8dqccJIG-ocDuubz7ss3-kQKaK"},316:function(e,t,r){"use strict";var a=r(319),n=r(58);function i(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,a){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=r):a[e]=r};case"bracket":return function(e,r,a){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],r):a[e]=[r]:a[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=n({arrayFormat:"none"},t)),a=Object.create(null);return"string"!=typeof e?a:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),r(decodeURIComponent(n),i,a)})),Object.keys(a).sort().reduce((function(e,t){var r=a[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):a},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,a){return null===r?[i(t,e),"[",a,"]"].join(""):[i(t,e),"[",i(a,e),"]=",i(r,e)].join("")};case"bracket":return function(t,r){return null===r?i(t,e):[i(t,e),"[]=",i(r,e)].join("")};default:return function(t,r){return null===r?i(t,e):[i(t,e),"=",i(r,e)].join("")}}}(t=n({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(a){var n=e[a];if(void 0===n)return"";if(null===n)return i(a,t);if(Array.isArray(n)){var o=[];return n.slice().forEach((function(e){void 0!==e&&o.push(r(a,e,o.length))})),o.join("&")}return i(a,t)+"="+i(n,t)})).filter((function(e){return e.length>0})).join("&"):""}},319:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},320:function(e,t,r){"use strict";r.d(t,"a",(function(){return X}));var a=r(0),n=r.n(a),i=r(13),o=r(260),s=r(5),l=r(4),c=r(318),u=r.n(c),m=r(104),p=r.n(m);var d=r(314),f=(r(106),r(322)),h=r.n(f),y=r(310),g=r(308),b=r(306),v=r(300),E=r(307),x=r(557),w=r(301),C=r(379),P=r(266),O=r(76),k=r(105),S=r.n(k),R=r(33),j=r.n(R),T=r(32),A=r.n(T),N=r(529),q=r(313),L=r(107),I=r.n(L),_=r(566),B=r(544),D=r(558),F=r(103);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=$(e);if(t){var n=$(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return W(this,r)}}function W(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=Object(o.a)((function(e){return{stepper:{backgroundColor:"inherit"}}})),J=function(e){var t=e.location.pathname.split("/");return n.a.createElement(N.a,{"aria-label":"breadcrumb",maxItems:2},t.map((function(t,r){return 0==r?n.a.createElement(q.a,{key:r,component:"a",href:"/",label:"Home",icon:n.a.createElement(S.a,{fontSize:"small"})}):n.a.createElement(q.a,{key:r,component:"a",href:e.location.pathname.substring(0,e.location.pathname.indexOf(t)+t.length),label:t})})))},K=[{value:"BC",label:"British Columbia",providerDesc:"MSP Practitioner/Billing Number",placeholder:"Five digits required"},{value:"ON",label:"Ontario",providerDesc:"OHIP Provider/Billing Number",placeholder:"Six digits required"}],Q=["SignUp","Confirm Link In Email","Login"],X=function(e){var t=G();return n.a.createElement(_.a,{alternativeLabel:!0,nonLinear:!0,activeStep:e.activeStep,className:t.stepper},e.steps.map((function(e){return n.a.createElement(B.a,{key:e},n.a.createElement(D.a,null,e))})))},Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,e);var t,r,a,o=z(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={province:"ON",providerNumber:"",careProviderNumberLabel:K[1].providerDesc,careProviderNumberPlaceholder:K[1].placeholder,email:"",password:"",passwordConfirmation:"",errors:{},isLoading:!1,invalid:!1,isHuman:!1,showTermsCondition:!1,agreeTermsCondition:!1},t.onChange=t.onChange.bind(Y(t)),t.onSubmit=t.onSubmit.bind(Y(t)),t.isValid=t.isValid.bind(Y(t)),t.callbackBot=t.callbackBot.bind(Y(t)),t.verifyCallbackBot=t.verifyCallbackBot.bind(Y(t)),t.expiredCallbackBot=t.expiredCallbackBot.bind(Y(t)),t}return t=s,(r=[{key:"callbackBot",value:function(){this.setState({isHuman:!1})}},{key:"verifyCallbackBot",value:function(e){this.setState({isHuman:!0})}},{key:"expiredCallbackBot",value:function(){this.setState({isHuman:!1})}},{key:"onChange",value:function(e){var t;"province"===e.target.name?this.setState((M(t={},e.target.name,e.target.value),M(t,"careProviderNumberLabel",e.target.options[e.target.selectedIndex].getAttribute("providerdesc")),M(t,"careProviderNumberPlaceholder",e.target.options[e.target.selectedIndex].getAttribute("placeholder")),t)):this.setState(M({},e.target.name,e.target.value))}},{key:"isValid",value:function(){var e=function(e){var t={};return u.a.isEmpty(e.email)?t.email="This field is required":u.a.isEmail(e.email)||(t.email="Email is invalid"),u.a.isEmpty(e.password)?t.password="This field is required":u.a.isByteLength(e.password,{min:6,max:30})||(t.password="This password length requires between 6 and 30"),u.a.isEmpty(e.passwordConfirmation)?t.passwordConfirmation="This field is required":u.a.equals(e.password,e.passwordConfirmation)||(t.passwordConfirmation="Passwords must match"),u.a.isEmpty(e.providerNumber)?t.providerNumber="This field is required":u.a.equals(e.province,"BC")?5!=e.providerNumber.length?t.providerNumber="Five digits required":u.a.isNumeric(e.providerNumber)||(t.providerNumber="Only numbers are valid"):u.a.equals(e.province,"ON")&&(6!=e.providerNumber.length?t.providerNumber="Six digits required":u.a.isNumeric(e.providerNumber)||(t.providerNumber="Only numbers are valid")),e.agreeTermsCondition||(t.agreeTermsCondition="You have to agree to the Terms and Conditions"),e.isHuman||(t.isHuman="This field is required"),{errors:t,isValid:p()(t)}}(this.state),t=e.errors,r=e.isValid;return r||this.setState({errors:t}),console.log(t),r}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("---INFO (onSubmit() of signupForm.jsx) is called---, ",this.state),this.state.showTermsCondition&&this.setState({showTermsCondition:!1}),this.isValid()&&(window.scrollTo(0,0),this.setState({errors:{},isLoading:!0}),Object(F.trackPromise)(this.props.userSignupRequest({email:this.state.email,password:this.state.password,providerNumber:this.state.providerNumber,province:this.state.province,errors:{}}).then((function(e){t.setState({isLoading:!1}),e.data.invalid?t.setState({errors:e.data.errors}):(t.props.addAlertMessage({turnOn:!0,type:"success",level:2,text:"Thanks for sining up. Please check your email for confirmation!!"}),t.props.history.push("/myAccount/login"))})).catch((function(e){console.log("[INFO in catch error of Submit() in signupForm.jsx]: ",e),t.setState({isLoading:!1,errors:{overall:e}})}))))}},{key:"render",value:function(){var e=this;console.log("[render() of signupForm.jsx] this.props: ",this.props);var t=this.props.classes;return n.a.createElement(b.a,{container:!0,spacing:1},n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement(v.a,{variant:"h6"},"SIGNUP")),n.a.createElement(b.a,{item:!0,xs:10},n.a.createElement(J,this.props)),n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement("hr",null)),n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement(w.a,{variant:"outlined",className:t.paper},n.a.createElement(b.a,{container:!0},n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:12,style:{textAlign:"center"}},n.a.createElement(v.a,{variant:"h6"},"Create your account using your email and provider/billing number given from your province"),n.a.createElement(v.a,{variant:"subtitle2",align:"center",color:"primary"},"This is only allowed for the Doctors of Ophometry (OD) in Canada."),n.a.createElement("br",null),n.a.createElement(v.a,{variant:"subtitle2",align:"center",color:"textSecondary"},n.a.createElement("span",{style:{color:"red"}},"*"),"Â This field is required")),n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement(X,{activeStep:0,steps:Q})),n.a.createElement(b.a,{item:!0,xs:12,style:{paddingLeft:"10%",paddingRight:"10%"}},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("overall")},n.a.createElement(C.a,{severity:"error"},this.state.errors.overall," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Email"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement("input",{name:"email",type:"email",value:this.state.email,onChange:this.onChange,placeholder:"email@example.com",style:{padding:"5px",width:"70%"}})),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("email")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.email," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Password"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.onChange,placeholder:"Requires at least six in length",style:{padding:"5px",width:"70%"}})),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("password")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.password," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Confirm Password"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement("input",{name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.onChange,placeholder:"Requires the same password as above",style:{padding:"5px",width:"70%"}})),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("passwordConfirmation")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.passwordConfirmation," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Province"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(g.a,{name:"province",value:this.state.province||"",onChange:this.onChange,native:!0,className:t.select,variant:"outlined",input:n.a.createElement(y.a,{classes:{input:t.selectInput}})},K.map((function(e,t){return n.a.createElement("option",{key:t,value:e.value,providerdesc:e.providerDesc,placeholder:e.placeholder},e.label)})))),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,this.state.careProviderNumberLabel),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement("input",{name:"providerNumber",type:"text",value:this.state.providerNumber,onChange:this.onChange,placeholder:this.state.careProviderNumberPlaceholder,style:{padding:"5px",width:"70%"}})),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("providerNumber")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.providerNumber," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement(x.a,{color:"primary",checked:this.state.agreeTermsCondition,onChange:function(){return e.setState((function(e){return{agreeTermsCondition:!e.agreeTermsCondition}}))}}),"Â ",n.a.createElement("span",null,"I agree to the"),n.a.createElement(E.a,{color:"primary",onClick:function(){return e.setState((function(e){return{showTermsCondition:!e.showTermsCondition}}))},endIcon:this.state.showTermsCondition?n.a.createElement(A.a,null):n.a.createElement(j.a,null)},"Terms and Conditions")),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("agreeTermsCondition")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.agreeTermsCondition," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:12,style:{paddingLeft:"5%",paddingRight:"5%"}},n.a.createElement(P.a,{in:this.state.showTermsCondition},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:I.a},style:{padding:"10px",borderRadius:"3px",border:"1px solid #DCDCDC"}}))),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement(h.a,{sitekey:d.b,render:"explicit",verifyCallback:this.verifyCallbackBot,onloadCallback:this.callbackBot,expiredCallback:this.expiredCallbackBot,size:"compact"})),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9},n.a.createElement(P.a,{in:this.state.errors.hasOwnProperty("isHuman")},n.a.createElement(C.a,{severity:"error",style:{width:"70%"}},this.state.errors.isHuman," â check it out!"))),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement(E.a,{variant:"outlined",color:"primary",disabled:this.state.isLoading,onClick:this.onSubmit},"Sign Up")),n.a.createElement(b.a,{item:!0,xs:12},"Â "),n.a.createElement(b.a,{item:!0,xs:3},"Â "),n.a.createElement(b.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement(E.a,{size:"small",color:"primary",component:i.b,to:"/myAccount/login"},"Already have an account? Login here"))))))}}])&&U(t.prototype,r),a&&U(t,a),s}(n.a.Component);Z.propTypes={classes:l.PropTypes.object.isRequired,userSignupRequest:l.PropTypes.func.isRequired,addAlertMessage:l.PropTypes.func.isRequired,isUserExists:l.PropTypes.func.isRequired,setCurrentUser:l.PropTypes.func.isRequired};t.b=Object(s.a)((function(e){return{paper:{backgroundColor:"#fcfaf5",padding:"10px 25px 10px 25px"},buttonProgress:{color:O.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},select:{borderRadius:"0px",paddingTop:"3px",paddingBottom:"3px",width:"40%",fontSize:"13px"},selectInput:{padding:"2px 5px"}}}))(Z)},561:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(306),o=r(379),s=r(444),l=r(4),c=r(316),u=r.n(c),m=r(318),p=r.n(m),d=r(104),f=r.n(d),h=r(5),y=r(300),g=r(307),b=r(301),v=r(266),E=r(105),x=r.n(E),w=r(529),C=r(313),P=r(320),O=r(103);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=N(e);if(t){var n=N(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){var t=e.location.pathname.split("/");return n.a.createElement(w.a,{"aria-label":"breadcrumb",maxItems:2},t.map((function(t,r){return 0==r?n.a.createElement(C.a,{key:r,component:"a",href:"/",label:"Home",icon:n.a.createElement(x.a,{fontSize:"small"})}):n.a.createElement(C.a,{key:r,component:"a",href:e.location.pathname.substring(0,e.location.pathname.indexOf(t)+t.length),label:t})})))},L=["Activate Link In Email","Reset Password","Login"],I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(l,e);var t,r,a,s=j(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={email:e.email,token:e.token,fullName:e.name,password:"",passwordConfirmation:"",errors:{},isLoading:!1,invalid:!1},t.onChange=t.onChange.bind(A(t)),t.onSubmit=t.onSubmit.bind(A(t)),t.isValid=t.isValid.bind(A(t)),t}return t=l,(r=[{key:"onChange",value:function(e){var t,r,a;this.setState((t={},r=e.target.name,a=e.target.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))}},{key:"isValid",value:function(){var e={};p.a.isEmpty(this.state.email)?e.email="This email field is empty.":p.a.isEmail(this.state.email)||(e.email="The email is invalid."),p.a.isEmpty(this.state.password)?e.password="This field is required.":p.a.isByteLength(this.state.password,{min:6,max:30})||(e.password="This field length requires between 6 and 30."),p.a.isEmpty(this.state.passwordConfirmation)?e.passwordConfirmation="This field is required.":p.a.equals(this.state.password,this.state.passwordConfirmation)||(e.passwordConfirmation="Passwords must match.");var t=f()(e);return t||this.setState({errors:e}),t}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.isValid()&&(this.setState({errors:{},isLoading:!0}),Object(O.trackPromise)(this.props.resetPasswordRequest(this.state).then((function(e){t.setState({isLoading:!1}),e.data.invalid?t.setState({errors:e.data.errors}):(t.props.addAlertMessage({turnOn:!0,type:"success",level:2,text:"You have successfully reset your password!!"}),t.props.history.push("/myAccount/login"))})).catch((function(e){console.log("[INFO in catch error of Submit() in resetpasswordForm.jsx]: ",e),t.setState({isLoading:!1,errors:{overall:e}})}))))}},{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(i.a,{container:!0,spacing:1},n.a.createElement(i.a,{item:!0,xs:12},n.a.createElement(y.a,{variant:"h6"},"RESET PASSWORD")),n.a.createElement(i.a,{item:!0,xs:10},n.a.createElement(q,this.props)),n.a.createElement(i.a,{item:!0,xs:12},n.a.createElement("hr",null)),n.a.createElement(i.a,{item:!0,xs:12},n.a.createElement(b.a,{variant:"outlined",className:e.paper},n.a.createElement(i.a,{container:!0},n.a.createElement(i.a,{item:!0,xs:12},"Â "),n.a.createElement(i.a,{item:!0,xs:12,style:{textAlign:"center"}},n.a.createElement(y.a,{variant:"h6"},"Hi ",this.props.name,", you may now set your new password!"),n.a.createElement("br",null),n.a.createElement(y.a,{variant:"subtitle2",align:"center",color:"textSecondary"},n.a.createElement("span",{style:{color:"red"}},"*"),"Â This field is required")),n.a.createElement(i.a,{item:!0,xs:12},n.a.createElement(P.a,{activeStep:1,steps:L})),n.a.createElement(i.a,{item:!0,xs:12,style:{paddingLeft:"10%",paddingRight:"10%"}},n.a.createElement(v.a,{in:this.state.errors.hasOwnProperty("overall")},n.a.createElement(o.a,{severity:"error"},this.state.errors.overall," â check it out!"))),n.a.createElement(i.a,{item:!0,xs:12},"Â "),n.a.createElement(i.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Email"),"Â :Â "),n.a.createElement(i.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement("input",{name:"email",type:"email",value:this.state.email,style:{padding:"5px",width:"70%"},disabled:!0})),n.a.createElement(i.a,{item:!0,xs:3},"Â "),n.a.createElement(i.a,{item:!0,xs:9},n.a.createElement(v.a,{in:this.state.errors.hasOwnProperty("email")},n.a.createElement(o.a,{severity:"error",style:{width:"70%"}},this.state.errors.email," â check it out!"))),n.a.createElement(i.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Password"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(i.a,{item:!0,xs:9},n.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.onChange,placeholder:"Requires at least six in length",style:{padding:"5px",width:"70%"}})),n.a.createElement(i.a,{item:!0,xs:3},"Â "),n.a.createElement(i.a,{item:!0,xs:9},n.a.createElement(v.a,{in:this.state.errors.hasOwnProperty("password")},n.a.createElement(o.a,{severity:"error",style:{width:"70%"}},this.state.errors.password," â check it out!"))),n.a.createElement(i.a,{item:!0,xs:3,style:{textAlign:"right"}},n.a.createElement("strong",null,"Confirm Password"),"Â ",n.a.createElement("span",{style:{color:"red"}},"*"),"Â :Â "),n.a.createElement(i.a,{item:!0,xs:9},n.a.createElement("input",{name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.onChange,placeholder:"Requires the same password as above",style:{padding:"5px",width:"70%"}})),n.a.createElement(i.a,{item:!0,xs:3},"Â "),n.a.createElement(i.a,{item:!0,xs:9},n.a.createElement(v.a,{in:this.state.errors.hasOwnProperty("passwordConfirmation")},n.a.createElement(o.a,{severity:"error",style:{width:"70%"}},this.state.errors.passwordConfirmation," â check it out!"))),n.a.createElement(i.a,{item:!0,xs:12},"Â "),n.a.createElement(i.a,{item:!0,xs:3},"Â "),n.a.createElement(i.a,{item:!0,xs:9,style:{textAlign:"left"}},n.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:this.onSubmit},"Reset Password"))))))}}])&&S(t.prototype,r),a&&S(t,a),l}(n.a.Component);I.propTypes={resetPasswordRequest:l.PropTypes.func.isRequired,addAlertMessage:l.PropTypes.func.isRequired};var _=Object(h.a)((function(e){return{paper:{backgroundColor:"#fcfaf5",padding:"10px 25px 10px 25px"}}}))(I),B=r(63),D=r(15),F=r(37),H=r.n(F);var M=r(31);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function z(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=G(e);if(t){var n=G(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return $(this,r)}}function $(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(c,e);var t,r,a,l=Y(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).params=u.a.parse(e.location.search),t.renderResetPasswordForm=null!=t.params.status&&1==parseInt(t.params.status)&&null!=t.params.email&&null!=t.params.name&&null!=t.params.token,t}return t=c,(r=[{key:"componentDidMount",value:function(){if(!this.renderResetPasswordForm){var e="Oops! You can only reset your password following through your email link without any modification!!";null!=this.params.status&&3==parseInt(this.params.status)&&(e="Oops! We can't find a record with the given information. Please try again!!"),this.props.addAlertMessage({turnOn:!0,type:"error",level:2,text:e})}}},{key:"render",value:function(){return console.log("----INFO (render() of resetPassword.jsx) is called------"),this.renderResetPasswordForm?n.a.createElement(i.a,{container:!0},n.a.createElement(i.a,{item:!0,xs:12},this.props.auth.isAuthenticated?n.a.createElement(o.a,{severity:"warning"},n.a.createElement(s.a,null,"Ooops! You forgot to logout first, please try again after.")):n.a.createElement(_,V({email:this.params.email,name:this.params.name,token:this.params.token,resetPasswordRequest:this.props.resetPasswordRequest,addAlertMessage:this.props.addAlertMessage},this.props)))):n.a.createElement("div",null,n.a.createElement(D.a,{to:"/myAccount/forgotPassword"}))}}])&&z(t.prototype,r),a&&z(t,a),c}(n.a.Component);J.propTypes={resetPasswordRequest:l.PropTypes.func.isRequired,addAlertMessage:l.PropTypes.func.isRequired};t.default=Object(B.b)((function(e){return{auth:e.authReducer}}),{resetPasswordRequest:function(e){return function(t){return H.a.post("jsp/api/users/resetPassword.jsp",e)}},addAlertMessage:M.a})(J)}}]);